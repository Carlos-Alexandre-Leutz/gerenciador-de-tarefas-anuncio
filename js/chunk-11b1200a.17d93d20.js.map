{"version":3,"sources":["webpack:///./src/views/tarefa/Tarefas.vue","webpack:///./src/views/tarefa/Tarefas.vue?5690","webpack:///./src/components/Table/Table.vue","webpack:///./src/components/Table/Table.vue?aaf5"],"names":["class","data-edit","title","to","default","headerColumns","hColumns","items","action","onEdit","table-header-actions","table-actions","fallback","setup","router","itemSelected","componentePaginacao","key","label","e","target","dataset","edit","console","log","item","id","push","descricaoItemSelected","value","fire","icon","confirmButtonText","text","usuarios","get","then","snapshot","exists","data","val","Object","entries","obj","lablAtribuidaPara","concluida","deadline","catch","error","components","Table","render","index","scope","lAction","rowObj","getColumns","rowValue","data-item","onActionClick","$event","props","emit","lItems","columnsValues","length"],"mappings":"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","file":"js/chunk-11b1200a.17d93d20.js","sourcesContent":["<template>\r\n  <div class=\"d-flex flex-column col-11 m-auto\">\r\n    <div class=\"col-2\">\r\n      <router-link\r\n        title=\"Adicionar nova tarefa \"\r\n        class=\"ml-auto m-1 btn btn-sm btn-primary\"\r\n        to=\"/tarefa/novo\"\r\n        >Adicionar\r\n      </router-link>\r\n    </div>\r\n    <div class=\"card shadow\">\r\n      <div class=\"card-header\">Tarefas</div>\r\n      <div class=\"card-body\">\r\n        <Suspense>\r\n          <template #default>\r\n            <Table\r\n              class=\"table-borderless table-striped\"\r\n              :headerColumns=\"hColumns\"\r\n              :items=\"items\"\r\n              action=\"true\"\r\n              @on-action-click=\"onEdit\"\r\n            >\r\n              <template v-slot:table-header-actions>\r\n                <div\r\n                  class=\"\r\n                    d-flex\r\n                    flex-center\r\n                    justify-content-center\r\n                    align-items-center\r\n                  \"\r\n                >\r\n                  Ações\r\n                </div>\r\n              </template>\r\n              <template v-slot:table-actions>\r\n                <div\r\n                  class=\"\r\n                    d-flex\r\n                    flex-center\r\n                    justify-content-center\r\n                    align-items-center\r\n                  \"\r\n                >\r\n                  <button\r\n                    data-edit=\"2\"\r\n                    class=\"btn btn-sm btn-primary\"\r\n                    title=\"Visualizar\"\r\n                  >\r\n                    <i data-edit=\"2\" class=\"fas fa-eye\"></i>\r\n                  </button>\r\n                  <button\r\n                    title=\"Editar\"\r\n                    data-edit=\"1\"\r\n                    class=\"btn btn-sm btn-warning\"\r\n                  >\r\n                    <i data-edit=\"1\" class=\"fas fa-edit\"></i>\r\n                  </button>\r\n                  <button\r\n                    title=\"Excluir\"\r\n                    data-edit=\"0\"\r\n                    class=\"btn btn-sm btn-danger\"\r\n                  >\r\n                    <i data-edit=\"0\" class=\"fas fa-trash-alt\"></i>\r\n                  </button>\r\n                </div>\r\n              </template>\r\n            </Table>\r\n          </template>\r\n          <template #fallback> caregando tabela </template>\r\n        </Suspense>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport Table from \"../../components/Table/Table.vue\";\r\n\r\nimport { ref, onMounted } from \"vue\";\r\nimport { useRouter } from \"vue-router\";\r\nimport Swal from \"sweetalert2\";\r\nimport servico from \"../../requisicoes/servicos/usuarios/index\";\r\nexport default {\r\n  setup() {\r\n    let router = useRouter();\r\n    let items = ref(null);\r\n    let itemSelected = ref(null);\r\n    let componentePaginacao = ref(null);\r\n    let hColumns = ref([\r\n      {\r\n        key: \"value\",\r\n        label: \"Tarefa\",\r\n      },\r\n      {\r\n        key: \"lablAtribuidaPara\",\r\n        label: \"Atribuida para\",\r\n      },\r\n      {\r\n        key: \"concluida\",\r\n        label: \"Finalizada?\",\r\n      },\r\n      {\r\n        key: \"deadline\",\r\n        label: \"Deadline?\",\r\n      },\r\n    ]);\r\n\r\n    const onEdit = (e) => {\r\n      if (!e || !e.target || !e.target.dataset) {\r\n        console.log(\"Objeto Errado\");\r\n        return;\r\n      }\r\n      if (e.target.dataset.edit == 1) {\r\n        console.log(\"Editar\", e.item.id);\r\n        router.push(\"/tarefa/editar/\" + e.item.id);\r\n      }\r\n      if (e.target.dataset.edit == 2) {\r\n        router.push(\"/tarefa/visualizar/\" + e.item.id + \"/visualizar\");\r\n      }\r\n      if (e.target.dataset.edit == 0) {\r\n          console.log(\"itemSelected\", itemSelected)\r\n        let descricaoItemSelected = e.item.value;\r\n         Swal.fire({\r\n          icon: \"question\",\r\n          title: `Você não tem permição para excluir`,\r\n          confirmButtonText: `Ok`,\r\n          text: `O taréfa \"${descricaoItemSelected}\"`,\r\n          // showCancelButton: true,\r\n          // cancelButtonText: `Cancelar`,\r\n        })\r\n        // itemSelected = e.item.id;\r\n        // let descricaoItemSelected = e.item.lablAtribuidaPara;\r\n        // Swal.fire({\r\n        //   icon: \"question\",\r\n        //   title: `Deseja excluir`,\r\n        //   confirmButtonText: `Sim`,\r\n        //   text: `O item \"${descricaoItemSelected}\"?`,\r\n        //   showCancelButton: true,\r\n        //   cancelButtonText: `Cancelar`,\r\n        // }).then((response) => {\r\n        //   if (response.isConfirmed) {\r\n        //     let dataLocalStorageTarefa = localStorage.getItem(\r\n        //       \"dataLocalStorageTarefa\"\r\n        //     );\r\n        //     let tarefas = JSON.parse(dataLocalStorageTarefa);\r\n        //     let itemExcluzao = itemSelected;\r\n        //     tarefas.forEach((tarefa) => {\r\n        //       if (tarefa.id == itemExcluzao) {\r\n        //         let indexGrid = tarefas.indexOf(tarefa);\r\n        //         items.value.splice(indexGrid, 1);\r\n        //         let stringfy = JSON.stringify(items.value);\r\n        //         localStorage.setItem(\"dataLocalStorageTarefa\", stringfy);\r\n        //       }\r\n        //     });\r\n        //     Swal.fire({\r\n        //       icon: \"success\",\r\n        //       title: `Concluído`,\r\n        //       text: `O Item \"${descricaoItemSelected}\" foi excluído`,\r\n        //     });\r\n        //   }\r\n        // });\r\n      }\r\n    };\r\n\r\n    let usuarios = [];\r\n    servico\r\n      .get(\"tarefa\")\r\n      .then((snapshot) => {\r\n        if (snapshot.exists()) {\r\n          // console.log(snapshot.val());\r\n          let data = snapshot.val();\r\n          // console.table(data);\r\n          for (var [key, value] of Object.entries(data)) {\r\n            console.log(value);\r\n            // atribuidaPara: \"f12dcffc-0b60-410f-8643-ee6490d97bed\";\r\n            // descricao: \"tesste\";\r\n            // id: \"258afcac-3566-4cd3-859e-c094239038ec\";\r\n            // lablAtribuidaPara: \"\";\r\n            // value: 3;\r\n            let obj = {\r\n              id: value.id || key,//tem que remover isso e colocar o id do banco ai fica mais rapido\r\n              lablAtribuidaPara: value.lablAtribuidaPara,\r\n              value: value.value,\r\n              concluida: value.concluida,\r\n              deadline: value.deadline,\r\n            };\r\n            usuarios.push(obj);\r\n          }\r\n          items.value = usuarios;\r\n        } else {\r\n          console.log(\"No data available\");\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.error(error);\r\n      });\r\n    onMounted(async () => {\r\n      // let dataLocalStorageTarefa = localStorage.getItem(\r\n      //   \"dataLocalStorageTarefa\"\r\n      // );\r\n      // let tarefas = JSON.parse(dataLocalStorageTarefa);\r\n      // items.value = tarefas;\r\n    });\r\n    return {\r\n      items,\r\n      componentePaginacao,\r\n      hColumns,\r\n      onEdit,\r\n    };\r\n  },\r\n  components: {\r\n    Table,\r\n  },\r\n};\r\n</script>\r\n","import { render } from \"./Tarefas.vue?vue&type=template&id=1db8e7de\"\nimport script from \"./Tarefas.vue?vue&type=script&lang=js\"\nexport * from \"./Tarefas.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\r\n  <table class=\"table\">\r\n    <thead>\r\n      <tr>\r\n        <th scope=\"col\" v-for=\"(item, index) in hColumns\" :key=\"index\">\r\n          <div>\r\n            {{ item.label }}\r\n          </div>\r\n        </th>\r\n        <th v-if=\"lAction\" id=\"tableHeaderActions\">\r\n          <slot name=\"table-header-actions\"></slot>\r\n        </th>\r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n      <tr scope=\"row\" v-for=\"(rowObj, index) in items\" :key=\"index\">\r\n        <td v-for=\"(rowValue, index) in getColumns(rowObj)\" :key=\"index\">\r\n          {{ rowValue }}\r\n        </td>\r\n        <td\r\n          v-if=\"lAction\"\r\n          :id=\"'tableAction' + index\"\r\n          :data-item=\"rowObj\"\r\n          @click=\"onActionClick($event, rowObj)\"\r\n        >\r\n          <slot name=\"table-actions\"></slot>\r\n        </td>\r\n      </tr>\r\n    </tbody>\r\n  </table>\r\n</template>\r\n\r\n<script>\r\nimport { ref } from \"vue\";\r\nexport default {\r\n  props: [\"headerColumns\", \"items\", \"action\"],\r\n  async setup(props, { emit }) {\r\n    var hColumns = ref(props.headerColumns);\r\n    var lAction = ref(props.action ? props.action : false);\r\n    var lItems = ref(await props.items);\r\n    const getColumns = (obj) => {\r\n      var columnsValues = [];\r\n      for (let index = 0; index < hColumns.value.length; index++) {\r\n        const key = hColumns.value[index].key;\r\n        columnsValues.push(obj[key]);\r\n      }\r\n      return columnsValues;\r\n    };\r\n    const onActionClick = (e, obj) => {\r\n      e.item = obj;\r\n      emit(\"on-action-click\", e);\r\n    };\r\n    return {\r\n      lAction,\r\n      hColumns,\r\n      lItems,\r\n      getColumns,\r\n      onActionClick,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style></style>","import { render } from \"./Table.vue?vue&type=template&id=44246fae\"\nimport script from \"./Table.vue?vue&type=script&lang=js\"\nexport * from \"./Table.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}