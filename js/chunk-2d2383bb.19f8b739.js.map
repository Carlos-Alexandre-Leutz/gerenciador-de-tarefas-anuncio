{"version":3,"sources":["webpack:///./src/views/conjunto/NovoCliente.vue","webpack:///./src/views/conjunto/NovoCliente.vue?44e4"],"names":["class","type","validarForm","clienteId","ViewModel","dataCriacao","dataUltimaAlteracao","placeholder","required","nomeCliente","disabled","inputReadonly","cnpj","cep","descricao","maxlength","mostrarBtnSalvar","limpaForm","value","$router","push","components","setup","params","visualizar","store","getId","state","emptyGuid","optionsUsuarios","id","mensagemChat","chatMensage","e","preventDefault","salvaForm","data","Date","dia","getDate","mes","getMonth","ano","getFullYear","hora","getHours","min","getMinutes","url","edit","then","fire","icon","title","text","catch","error","console","add","ObterTarefa","log","get","snapshot","exists","val","undefined","err","render"],"mappings":"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","file":"js/chunk-2d2383bb.19f8b739.js","sourcesContent":["<template>\r\n  <form @submit=\"validarForm\">\r\n    <!-- ou @submit.prevent=\"salvaForm\" -->\r\n    <div class=\"row mt-5\">\r\n      <div class=\"col-sm-12\">\r\n        <div class=\"card shadow\">\r\n          <header class=\"card-header\">\r\n            <strong class=\"align-self-center\">\r\n              Crie um conjunto de taréfas para cliente</strong\r\n            >\r\n          </header>\r\n          <div class=\"card-body\">\r\n            <div class=\"row\">\r\n              <div class=\"col-sm-12 col-md-12 col-lg-12 col-xl-12 mb-3\">\r\n                <div class=\"row\">\r\n                  <div class=\"col-sm-6 col-md-6 col-lg-6 col-xl-6\">\r\n                    <label v-if=\"clienteId\">\r\n                      Data de criação {{ ViewModel.dataCriacao }}</label\r\n                    >\r\n                  </div>\r\n                  <div class=\"col-sm-6 col-md-6 col-lg-6 col-xl-6\">\r\n                    <label v-if=\"clienteId\">\r\n                      Data ultima alteração\r\n                      {{ ViewModel.dataUltimaAlteracao }}</label\r\n                    >\r\n                  </div>\r\n                </div>\r\n                <label> Campos com * são de preenchimento obrigatório </label>\r\n\r\n                <div class=\"row\">\r\n                  <div class=\"col-sm-6 col-md-6 col-lg-6 col-xl-6\">\r\n                    <label>* Nome do cliente</label>\r\n                    <input\r\n                      class=\"form-control\"\r\n                      type=\"text\"\r\n                      placeholder=\"Digite o nome\"\r\n                      required\r\n                      v-model=\"ViewModel.nomeCliente\"\r\n                      :disabled=\"inputReadonly\"\r\n                    />\r\n                  </div>\r\n                  <div class=\"col-sm-6 col-md-6 col-lg-6 col-xl-6\">\r\n                    <label>* CNPJ</label>\r\n                    <input\r\n                      required\r\n                      class=\"form-control\"\r\n                      type=\"text\"\r\n                      placeholder=\"Digite o cnpj\"\r\n                      v-model=\"ViewModel.cnpj\"\r\n                      :disabled=\"inputReadonly\"\r\n                    />\r\n                  </div>\r\n                  <div class=\"col-sm-6 col-md-6 col-lg-6 col-xl-6\">\r\n                    <label>* CEP</label>\r\n                    <input\r\n                      class=\"form-control\"\r\n                      type=\"text\"\r\n                      required\r\n                      placeholder=\"Digite o cnpj\"\r\n                      v-model=\"ViewModel.cep\"\r\n                      :disabled=\"inputReadonly\"\r\n                    />\r\n                  </div>\r\n                  <div class=\"col-sm-6 col-md-6 col-lg-6 col-xl-6\">\r\n                    <label>Descrição</label>\r\n                    <input\r\n                      class=\"form-control\"\r\n                      type=\"text\"\r\n                      placeholder=\"Digite uma descrição curta\"\r\n                      v-model=\"ViewModel.descricao\"\r\n                      :disabled=\"inputReadonly\"\r\n                      maxlength=\"50\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n\r\n                <div class=\"d-flex mt-3 buttonsActions\">\r\n                  <button\r\n                    v-if=\"mostrarBtnSalvar\"\r\n                    class=\"btn btn-success\"\r\n                    type=\"submit\"\r\n                  >\r\n                    Salvar\r\n                  </button>\r\n                  <input\r\n                    type=\"button\"\r\n                    v-if=\"mostrarBtnSalvar\"\r\n                    class=\"btn btn-warning ml-2 mr-2\"\r\n                    @click=\"limpaForm()\"\r\n                    value=\"Limpar\"\r\n                  />\r\n\r\n                  <button\r\n                    class=\"btn btn-secondary\"\r\n                    type=\"reset\"\r\n                    @click=\"$router.push('/conjuntos')\"\r\n                  >\r\n                    Voltar\r\n                  </button>\r\n                </div>\r\n              </div>\r\n              <br /><br /><br />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </form>\r\n</template>\r\n\r\n<script>\r\nimport { ref, onMounted } from \"vue\";\r\n// import { v4 as uuidv4 } from \"uuid\";\r\nimport Swal from \"sweetalert2\";\r\nimport { /* useRouter, */ useRoute } from \"vue-router\";\r\nimport { useStore } from \"vuex\";\r\nimport servico from \"../../requisicoes/servicos/usuarios/index\";\r\n\r\nexport default {\r\n  components: {},\r\n  setup() {\r\n    const {\r\n      params: { clienteId, visualizar },\r\n    } = useRoute();\r\n    const store = useStore();\r\n    const getId = () => {\r\n      return clienteId ? clienteId : store.state.emptyGuid;\r\n    };\r\n\r\n    let mostrarBtnSalvar;\r\n    let inputReadonly;\r\n\r\n    // let router = useRouter();\r\n\r\n    let optionsUsuarios = ref([]);\r\n    if (visualizar) {\r\n      mostrarBtnSalvar = false;\r\n      inputReadonly = true;\r\n    } else {\r\n      mostrarBtnSalvar = true;\r\n      inputReadonly = false;\r\n    }\r\n\r\n    let ViewModel = ref({\r\n      id: ref(getId),\r\n      nomeCliente: ref(),\r\n      cnpj: ref(),\r\n      cep: ref(),\r\n      descricao: ref(),\r\n    });\r\n    let mensagemChat = ref();\r\n    let chatMensage = ref();\r\n\r\n    const limpaForm = () => {\r\n      ViewModel.value.id = ref(getId);\r\n      ViewModel.value.nomeCliente = ref();\r\n      ViewModel.value.cnpj = ref();\r\n      ViewModel.value.cep = ref();\r\n      ViewModel.value.descricao = ref();\r\n    };\r\n\r\n    const validarForm = (e) => {\r\n      e.preventDefault();\r\n\r\n      salvaForm();\r\n      // else {\r\n      //   Swal.fire({\r\n      //     icon: \"warning\",\r\n      //     title: `Atenção`,\r\n      //     text: `Campos com * são de preenchimento obrigatório`,\r\n      //   });\r\n      // }\r\n    };\r\n    const salvaForm = () => {\r\n      var data = new Date();\r\n      var dia = data.getDate();\r\n      var mes = data.getMonth();\r\n      let ano = data.getFullYear();\r\n      var hora = data.getHours();\r\n      var min = data.getMinutes();\r\n      if (clienteId) {\r\n        let data = {\r\n          nomeCliente: ViewModel.value.nomeCliente,\r\n          cnpj: ViewModel.value.cnpj,\r\n          descricao: ViewModel.value.descricao,\r\n          cep: ViewModel.value.cep,\r\n        };\r\n        let url = \"conjunto/\" + clienteId;\r\n        servico\r\n          .edit(url, data)\r\n          .then(() => {\r\n            Swal.fire({\r\n              icon: \"success\",\r\n              title: `Concluído`,\r\n              text: `O item \"${ViewModel.value.nomeCliente}\" foi editado `,\r\n            });\r\n          })\r\n          .catch((error) => {\r\n            console.error(error);\r\n          });\r\n      } else {\r\n      \r\n        let data = {         \r\n          nomeCliente: ViewModel.value.nomeCliente,\r\n          cnpj: ViewModel.value.cnpj,\r\n          descricao: ViewModel.value.descricao,\r\n          cep: ViewModel.value.cep,\r\n          dataCriacao: dia + \"/\" + mes + \"/\" + ano + \":\" + hora + \":\" + min,\r\n        };\r\n        servico\r\n          .add(\"conjunto\", data)\r\n          .then(() => {\r\n            Swal.fire({\r\n              icon: \"success\",\r\n              title: `Concluído`,\r\n              text: `O item \"${ViewModel.value.nomeCliente}\" foi adicionado `,\r\n            });\r\n\r\n            limpaForm();\r\n          })\r\n          .catch((error) => {\r\n            console.error(error);\r\n          });\r\n      }\r\n    };\r\n    // const status200 = () => {\r\n    //   Swal.fire({\r\n    //     icon: \"success\",\r\n    //     title: `Concluído`,\r\n    //     text: `O cliente \"${ViewModel.value.value}\" foi adicionado`,\r\n    //   });\r\n    //   limpaForm();\r\n    // };\r\n    // const status200Edt = () => {\r\n    //   Swal.fire({\r\n    //     icon: \"success\",\r\n    //     title: `Concluido`,\r\n    //     text: `O cliente \"${ViewModel.value.value}\" foi editado`,\r\n    //   });\r\n    // };\r\n\r\n    onMounted(async () => {\r\n      const ObterTarefa = async (id) => {\r\n        console.log(\"id\", id);\r\n        let url = `conjunto/${id}`;\r\n        servico\r\n          .get(url)\r\n          .then((snapshot) => {\r\n            if (snapshot.exists()) {\r\n              let data = snapshot.val();       \r\n              console.log(\"data\", data)       \r\n              ViewModel.value.nomeCliente = data.nomeCliente;\r\n              ViewModel.value.cnpj = data.cnpj;\r\n              ViewModel.value.cep = data.cep;\r\n              ViewModel.value.descricao = data.descricao;\r\n            } else {\r\n              console.log(\"No data available\");\r\n            }\r\n          })\r\n          .catch((error) => {\r\n            console.error(error);\r\n          });\r\n      };\r\n      try {\r\n        if (clienteId !== undefined) {\r\n          ObterTarefa(clienteId);\r\n        }\r\n      } catch (err) {\r\n        console.error(\"Erro ao obter usuario para edição\", err);\r\n      }\r\n    });\r\n    return {\r\n      ViewModel,\r\n      optionsUsuarios,\r\n      limpaForm,\r\n      validarForm,\r\n      mostrarBtnSalvar,\r\n      inputReadonly,\r\n      clienteId,\r\n      mensagemChat,\r\n      chatMensage,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n","import { render } from \"./NovoCliente.vue?vue&type=template&id=a4530f4a\"\nimport script from \"./NovoCliente.vue?vue&type=script&lang=js\"\nexport * from \"./NovoCliente.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}