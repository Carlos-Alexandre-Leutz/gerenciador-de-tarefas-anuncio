{"version":3,"sources":["webpack:///./src/views/tarefa/NovoTarefa.vue","webpack:///./src/views/tarefa/NovoTarefa.vue?3e7b","webpack:///./src/views/tarefa/NovoTarefa.vue?1b3c"],"names":["class","type","validarForm","tarefaId","ViewModel","dataCriacao","dataUltimaAlteracao","placeholder","value","readonly","atribuidaPara","options","optionsUsuarios","disabled","inputReadonly","required","descricao","deadline","concluida","mostrarBtnSalvar","limpaForm","$router","push","chatMensage","column","index","key","mensagemEnvida","user","mensagem","data","mensagemChat","rows","enviaMensagemChat","components","Multiselect","setup","params","visualizar","store","getId","state","emptyGuid","tarefaRef","usuariosBanco","router","id","lablAtribuidaPara","idBanco","chat","e","preventDefault","salvaForm","fire","icon","title","text","Date","dia","getDate","mes","getMonth","ano","getFullYear","hora","getHours","min","getMinutes","filtraLabelUsuario","url","edit","then","showDenyButton","confirmButtonText","showCancelButton","result","isConfirmed","catch","error","console","uuid","log","add","denyButtonText","isDenied","label","Object","entries","nome","obterChat","contador","chats","get","snapshot","val","exists","userName","resp","auth","currentUser","email","obj","reverse","setTimeout","date","obterSeletorUsuarios","Usuario","ObterTarefa","undefined","err","render"],"mappings":"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","file":"js/chunk-610b8625.d23933f3.js","sourcesContent":["<template>\r\n  <form @submit=\"validarForm\">\r\n    <!-- ou @submit.prevent=\"salvaForm\" -->\r\n    <div class=\"row mt-5\">\r\n      <div class=\"col-sm-12\">\r\n        <div class=\"card shadow\">\r\n          <header class=\"card-header\">\r\n            <strong class=\"align-self-center\"> Crie tarefas </strong>\r\n          </header>\r\n          <div class=\"card-body\">\r\n            <div class=\"row\">\r\n              <div class=\"col-sm-12 col-md-12 col-lg-12 col-xl-12 mb-3\">\r\n                <div class=\"row\">\r\n                  <div class=\"col-sm-6 col-md-6 col-lg-6 col-xl-6\">\r\n                    <label v-if=\"tarefaId\">\r\n                      Data de criação {{ ViewModel.dataCriacao }}</label\r\n                    >\r\n                  </div>\r\n                  <div class=\"col-sm-6 col-md-6 col-lg-6 col-xl-6\">\r\n                    <label v-if=\"tarefaId\">\r\n                      Data ultima alteração\r\n                      {{ ViewModel.dataUltimaAlteracao }}</label\r\n                    >\r\n                  </div>\r\n                </div>\r\n                <label> Campos com * são de preenchimento obrigatório </label>\r\n\r\n                <div class=\"row\">\r\n                  <div class=\"col-sm-2 col-md-2 col-lg-2 col-xl-2\">\r\n                    <label>Referência </label>\r\n                    <input\r\n                      class=\"form-control\"\r\n                      type=\"numbers\"\r\n                      placeholder=\"Digite um valor\"\r\n                      v-model=\"ViewModel.value\"\r\n                      readonly\r\n                    />\r\n                  </div>\r\n\r\n                  <div class=\"col-sm-10 col-md-10 col-lg-10 col-xl-10\">\r\n                    <label>* Atribuída para:</label>\r\n                    <Multiselect\r\n                      v-model=\"ViewModel.atribuidaPara\"\r\n                      placeholder=\"Selecione o usuário\"\r\n                      :options=\"optionsUsuarios\"\r\n                      :disabled=\"inputReadonly\"\r\n                      :required=\"true\"\r\n                    />\r\n                  </div>\r\n\r\n                  <div class=\"col-sm-12 col-md-12 col-lg-12 col-xl-12\">\r\n                    <label>* Descrição </label>\r\n                    <textarea\r\n                      class=\"form-control\"\r\n                      v-model=\"ViewModel.descricao\"\r\n                      :readonly=\"inputReadonly\"\r\n                      placeholder=\"Digite a decrição\"\r\n                      required\r\n                    ></textarea>\r\n                  </div>\r\n                  <div class=\"col-sm-12 col-md-6 col-lg-6 col-xl-6\">\r\n                    <label>Deadline</label>\r\n                    <input\r\n                      type=\"date\"\r\n                      class=\"form-control\"\r\n                      v-model=\"ViewModel.deadline\"\r\n                      :readonly=\"inputReadonly\"\r\n                      required\r\n                    />\r\n                  </div>\r\n                  <div class=\"col-sm-12 col-md-6 col-lg-6 col-xl-6\">\r\n                    <label> Tarefa concluida? </label><br />\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      v-model=\"ViewModel.concluida\"\r\n                      :readonly=\"inputReadonly\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n\r\n                <div class=\"d-flex mt-3 buttonsActions\">\r\n                  <button\r\n                    v-if=\"mostrarBtnSalvar\"\r\n                    class=\"btn btn-success\"\r\n                    type=\"submit\"\r\n                  >\r\n                    Salvar\r\n                  </button>\r\n                  <input\r\n                    type=\"button\"\r\n                    v-if=\"mostrarBtnSalvar\"\r\n                    class=\"btn btn-warning ml-2 mr-2\"\r\n                    @click=\"limpaForm()\"\r\n                    value=\"Limpar\"\r\n                  />\r\n\r\n                  <button\r\n                    class=\"btn btn-secondary\"\r\n                    type=\"reset\"\r\n                    @click=\"$router.push('/tarefas')\"\r\n                  >\r\n                    Voltar\r\n                  </button>\r\n                </div>\r\n              </div>\r\n              <br /><br /><br />\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div v-if=\"tarefaId\" class=\"card shadow mt-3\">\r\n          <header class=\"card-header\">\r\n            <strong class=\"align-self-center\"> Chat da taféra</strong>\r\n          </header>\r\n          <div class=\"card-body\">\r\n            <p class=\"text-center\">\r\n              mensagens mais recentes <i class=\"fas fa-arrow-up\"></i>\r\n            </p>\r\n            <div class=\"row\">\r\n              <div class=\"col-sm-12 col-md-12 col-lg-12 col-xl-12 chat\">\r\n                <div class=\"row\">\r\n                  <div class=\"col-sm-12 col-md-12 col-lg-12 col-xl-12\">\r\n                    <div v-for=\"(column, index) in chatMensage\" :key=\"index\">\r\n                      <template v-if=\"column.mensagemEnvida == true\">\r\n                        <!-- chat inviado  -->\r\n                        <div class=\"d-flex justify-content-end\">\r\n                          <div class=\"container containerChat col-10\">\r\n                            <div class=\"d-flex justify-content-end mb-1\">\r\n                              <!-- <i class=\"fas fa-laugh-wink\"></i> -->\r\n                              <span class=\"time-right mr-3\">\r\n                                {{ column.user }}</span\r\n                              >\r\n                              <i class=\"fas fa-arrow-up\"></i>\r\n                            </div>\r\n                            <div class=\"d-flex justify-content-end\">\r\n                              <p>{{ column.mensagem }}</p>\r\n                            </div>\r\n\r\n                            <span class=\"time-right\">{{ column.data }}</span>\r\n                          </div>\r\n                        </div>\r\n\r\n                        <!-- fim chat inviado  -->\r\n                      </template>\r\n                      <template v-if=\"column.mensagemEnvida == false\">\r\n                        <!-- chat recebido -->\r\n                        <div class=\"container containerChat darker col-10\">\r\n                          <div class=\"d-flex justify-content-start mb-1\">\r\n                            <!-- <i class=\"fas fa-laugh-wink \"></i> -->\r\n                            <i class=\"fas fa-arrow-down mr-3\"></i>\r\n                            <span class=\"time-left\">{{ column.user }}</span>\r\n                          </div>\r\n                          <p>{{ column.mensagem }}</p>\r\n\r\n                          <span class=\"time-left\">{{ column.data }}</span>\r\n                        </div>\r\n                        <!-- fim chat recebido -->\r\n                      </template>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"col-sm-12 col-md-12 col-lg-12 col-xl-12\">\r\n                <div class=\"row\">\r\n                  <div class=\"col-sm-12 col-md-12 col-lg-12 col-xl-12\">\r\n                    <div class=\"input-group mb-3\">\r\n                      <textarea\r\n                        v-model=\"mensagemChat\"\r\n                        rows=\"4\"\r\n                        class=\"form-control\"\r\n                        placeholder=\"Digite uma mensagem\"\r\n                      />\r\n                      <div class=\"input-group-append\">\r\n                        <input\r\n                          type=\"button\"\r\n                          @click=\"enviaMensagemChat\"\r\n                          class=\"input-group-text\"\r\n                          value=\"Enviar\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </form>\r\n</template>\r\n\r\n<script>\r\nimport { ref, onMounted } from \"vue\";\r\nimport Multiselect from \"@vueform/multiselect\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\nimport Swal from \"sweetalert2\";\r\nimport { /* useRouter, */ useRoute } from \"vue-router\";\r\nimport { useStore } from \"vuex\";\r\nimport servico from \"../../requisicoes/servicos/usuarios/index\";\r\nimport firebase from \"firebase\";\r\nimport { useRouter } from \"vue-router\";\r\n\r\nexport default {\r\n  components: { Multiselect },\r\n  setup() {\r\n    const {\r\n      params: { tarefaId, visualizar },\r\n    } = useRoute();\r\n    const store = useStore();\r\n    const getId = () => {\r\n      return tarefaId ? tarefaId : store.state.emptyGuid;\r\n    };\r\n\r\n    let mostrarBtnSalvar;\r\n    let inputReadonly;\r\n    let tarefaRef = 0;\r\n    let usuariosBanco = ref();\r\n    let router = useRouter();\r\n    // let router = useRouter();\r\n    let optionsUsuarios = ref([]);\r\n    if (visualizar) {\r\n      mostrarBtnSalvar = false;\r\n      inputReadonly = true;\r\n    } else {\r\n      mostrarBtnSalvar = true;\r\n      inputReadonly = false;\r\n    }\r\n    // if (!tarefaId) {\r\n    // let dataLocalStorageTarefa = localStorage.getItem(\r\n    //   \"dataLocalStorageTarefa\"\r\n    // );\r\n    // if (dataLocalStorageTarefa) {\r\n    //   let tarefas = JSON.parse(dataLocalStorageTarefa);\r\n    //   tarefas.forEach((tarefa) => {\r\n    //     if (tarefa.value >= tarefaRef) {\r\n    //       tarefaRef = tarefa.value + 1;\r\n    //     }\r\n    //   });\r\n    // }\r\n    // }\r\n\r\n    let ViewModel = ref({\r\n      id: ref(getId),\r\n      value: ref(tarefaRef),\r\n      atribuidaPara: ref(),\r\n      lablAtribuidaPara: ref(),\r\n      descricao: ref(),\r\n      idBanco: ref(),\r\n      concluida: ref(false),\r\n      deadline: ref(),\r\n      chat: ref([]),\r\n    });\r\n    let mensagemChat = ref();\r\n    let chatMensage = ref();\r\n\r\n    const limpaForm = () => {\r\n      ViewModel.value.id = ref();\r\n      ViewModel.value.value = ViewModel.value.value + 1;\r\n      ViewModel.value.descricao = ref();\r\n      ViewModel.value.atribuidaPara = ref();\r\n      ViewModel.value.concluida = ref(false);\r\n      ViewModel.value.deadline = ref();\r\n      ViewModel.value.dataCriacao = ref();\r\n      ViewModel.value.dataUltimaAlteracao = ref();\r\n    };\r\n\r\n    const validarForm = (e) => {\r\n      e.preventDefault();\r\n      if (ViewModel.value.atribuidaPara) {\r\n        salvaForm();\r\n      } else {\r\n        Swal.fire({\r\n          icon: \"warning\",\r\n          title: `Atenção`,\r\n          text: `Campos com * são de preenchimento obrigatório`,\r\n        });\r\n      }\r\n    };\r\n    const salvaForm = () => {\r\n      var data = new Date();\r\n      var dia = data.getDate();\r\n      var mes = data.getMonth();\r\n      let ano = data.getFullYear();\r\n      var hora = data.getHours();\r\n      var min = data.getMinutes();\r\n      if (tarefaId) {\r\n        let data = {\r\n          id: ViewModel.value.id,\r\n          value: ViewModel.value.value,\r\n          atribuidaPara: ViewModel.value.atribuidaPara,\r\n          lablAtribuidaPara: filtraLabelUsuario(),\r\n          descricao: ViewModel.value.descricao,\r\n          concluida: ViewModel.value.concluida,\r\n          dataUltimaAlteracao:\r\n            dia + \"/\" + mes + \"/\" + ano + \":\" + hora + \":\" + min,\r\n        };\r\n        let url = \"tarefa/\" + ViewModel.value.idBanco;\r\n        servico\r\n          .edit(url, data)\r\n          .then(() => {\r\n            Swal.fire({\r\n              icon: \"success\",\r\n              title: `Concluído`,\r\n              text: `O item \"${ViewModel.value.value}\" foi editado `,\r\n              showDenyButton: true,            \r\n              confirmButtonText: \"Voltar\",\r\n              showCancelButton: true,\r\n              \r\n            }).then((result) => {\r\n              /* Read more about isConfirmed, isDenied below */\r\n              if (result.isConfirmed) {\r\n                router.push(\"/tarefas\");\r\n              }\r\n            });\r\n          })\r\n          .catch((error) => {\r\n            console.error(error);\r\n          });\r\n      } else {\r\n        ViewModel.value.id = uuidv4();\r\n        let data = {\r\n          id: ViewModel.value.id,\r\n          value: ViewModel.value.value,\r\n          atribuidaPara: ViewModel.value.atribuidaPara,\r\n          lablAtribuidaPara: filtraLabelUsuario(),\r\n          descricao: ViewModel.value.descricao,\r\n          concluida: ViewModel.value.concluida,\r\n          deadline: ViewModel.value.deadline,\r\n          dataCriacao: dia + \"/\" + mes + \"/\" + ano + \":\" + hora + \":\" + min,\r\n          dataUltimaAlteracao:\r\n            dia + \"/\" + mes + \"/\" + ano + \":\" + hora + \":\" + min,\r\n        };\r\n        console.log(\"data\", data);\r\n        servico\r\n          .add(\"tarefa\", data)\r\n          .then(() => {\r\n            Swal.fire({\r\n              icon: \"success\",\r\n              title: `Concluído`,\r\n              text: `O item \"${ViewModel.value.value}\" foi adicionado `,\r\n              showDenyButton: true,\r\n           \r\n              confirmButtonText: \"Voltar\",\r\n              denyButtonText: `Adicionar mais taréfas`,\r\n            }).then((result) => {\r\n              /* Read more about isConfirmed, isDenied below */\r\n              if (result.isConfirmed) {\r\n               router.push(\"/tarefas\");\r\n              } else if (result.isDenied) {\r\n                limpaForm();\r\n              }\r\n            });\r\n          })\r\n          .catch((error) => {\r\n            console.error(error);\r\n          });\r\n      }\r\n    };\r\n\r\n    const filtraLabelUsuario = () => {\r\n      let label = \"\";\r\n      for (var [key, value] of Object.entries(usuariosBanco.value)) {\r\n        console.log(\"#########\", key, value);\r\n        if (value.id == ViewModel.value.atribuidaPara) {\r\n          console.log(\"label is\");\r\n          label = value.nome;\r\n        }\r\n      }\r\n      return label;\r\n    };\r\n\r\n    const obterChat = () => {\r\n      let contador = 0;\r\n\r\n      let url = \"tarefa/\" + ViewModel.value.idBanco;\r\n      let chats = [];\r\n      servico\r\n        .get(url)\r\n        .then((snapshot) => {\r\n          console.log(\"snapshot\", snapshot.val());\r\n          if (snapshot.exists()) {\r\n            // console.log(snapshot.val());\r\n            let data = snapshot.val();\r\n            // console.table(data);\r\n            let userName = \"\";\r\n            let resp = firebase.auth();\r\n            if (resp) {\r\n              userName = resp.currentUser.email;\r\n            }\r\n\r\n            for (var [key, value] of Object.entries(data.chat)) {\r\n              console.log(value, key);\r\n              let obj;\r\n              if (userName == value.user) {\r\n                obj = {\r\n                  mensagem: value.mensagem,\r\n                  user: value.user,\r\n                  mensagemEnvida: true,\r\n                  data: value.data,\r\n                };\r\n              } else {\r\n                obj = {\r\n                  mensagem: value.mensagem,\r\n                  user: value.user,\r\n                  mensagemEnvida: false,\r\n                  data: value.data,\r\n                };\r\n              }\r\n\r\n              chats.push(obj);\r\n            }\r\n            chats.reverse();\r\n            chatMensage.value = chats;\r\n            console.log(\"chats\", chats);\r\n          } else {\r\n            contador++;\r\n            if (contador <= 2) {\r\n              setTimeout(function () {\r\n                obterChat();\r\n              }, 1000);\r\n            }\r\n            console.log(\"No data available\");\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          console.error(error);\r\n        });\r\n    };\r\n    const enviaMensagemChat = () => {\r\n      if (mensagemChat.value) {\r\n        let userName = \"\";\r\n        let resp = firebase.auth();\r\n        if (resp) {\r\n          userName = resp.currentUser.email;\r\n        }\r\n        console.log(\"mensagemChat\", mensagemChat.value);\r\n        console.log(\"userName\", userName);\r\n\r\n        var date = new Date();\r\n        var dia = date.getDate();\r\n        var mes = date.getMonth();\r\n        let ano = date.getFullYear();\r\n        var hora = date.getHours();\r\n        var min = date.getMinutes();\r\n\r\n        let data = {\r\n          mensagem: mensagemChat.value,\r\n          user: userName,\r\n          data: dia + \"/\" + mes + \"/\" + ano + \" :\" + hora + \":\" + min,\r\n        };\r\n        let url = \"tarefa/\" + ViewModel.value.idBanco + \"/chat\";\r\n        servico\r\n          .add(url, data)\r\n          .then(() => {\r\n            console.log(\"atualizar o chat\");\r\n            obterChat();\r\n            mensagemChat.value = \"\";\r\n          })\r\n          .catch((error) => {\r\n            console.error(error);\r\n          });\r\n      }\r\n    };\r\n\r\n    onMounted(async () => {\r\n      const obterSeletorUsuarios = () => {\r\n        servico.get(\"usuarios\").then((snapshot) => {\r\n          if (snapshot.exists()) {\r\n            let data = snapshot.val();\r\n            console.log(\"data\", data);\r\n            usuariosBanco.value = data; // salva resp para não precisar fazer a requi de novo\r\n            for (var [key, value] of Object.entries(data)) {\r\n              console.log(key, value);\r\n              let Usuario = {\r\n                value: value.id,\r\n                label: value.nome,\r\n              };\r\n              optionsUsuarios.value.push(Usuario);\r\n            }\r\n          }\r\n        });\r\n\r\n        // let dataLocalStorageUsuarios = localStorage.getItem(\r\n        //   \"dataLocalStorageUsuario\"\r\n        // );\r\n        // if (dataLocalStorageUsuarios.length >= 1) {\r\n        //   let localStorege = JSON.parse(dataLocalStorageUsuarios);\r\n        //   localStorege.forEach((usuario) => {\r\n        //     let Usuario = {\r\n        //       value: usuario.id,\r\n        //       label: usuario.nome,\r\n        //     };\r\n        //     optionsUsuarios.value.push(Usuario);\r\n        //   });\r\n        // } else {\r\n        //   Swal.fire({\r\n        //     icon: \"warning\",\r\n        //     title: `Atenção`,\r\n        //     text: `Você ainda não possui nenhum usuario cadastrado!\r\n        //     Deseja cadastras?`,\r\n        //     showDenyButton: true,\r\n        //     confirmButtonText: \"Sim\",\r\n        //     denyButtonText: \"Não\",\r\n        //   }).then((result) => {\r\n        //     if (result.isConfirmed) {\r\n        //       router.push(\"/usuario/novo\");\r\n        //     } else if (result.isDenied) {\r\n        //       console.log(\"continuar cadastrando\");\r\n        //     }\r\n        //   });\r\n        // }\r\n      };\r\n      obterSeletorUsuarios();\r\n      const ObterTarefa = async (id) => {\r\n        console.log(\"id\", id);\r\n        servico\r\n          .get(\"tarefa\")\r\n          .then((snapshot) => {\r\n            if (snapshot.exists()) {\r\n              // console.log(snapshot.val());\r\n              let data = snapshot.val();\r\n              // console.table(data);\r\n              for (var [key, value] of Object.entries(data)) {\r\n                if (id == value.id) {\r\n                  ViewModel.value.id = value.id;\r\n                  ViewModel.value.atribuidaPara = value.atribuidaPara;\r\n                  ViewModel.value.descricao = value.descricao;\r\n                  ViewModel.value.value = value.value;\r\n                  ViewModel.value.idBanco = key;\r\n                  ViewModel.value.concluida = value.concluida;\r\n                  ViewModel.value.deadline = value.deadline;\r\n                  ViewModel.value.dataCriacao = value.dataCriacao;\r\n                  ViewModel.value.dataUltimaAlteracao =\r\n                    value.dataUltimaAlteracao;\r\n                  ViewModel.value.dataUltimaAlteracao =\r\n                    value.dataUltimaAlteracao;\r\n                }\r\n              }\r\n            } else {\r\n              console.log(\"No data available\");\r\n            }\r\n          })\r\n          .catch((error) => {\r\n            console.error(error);\r\n          });\r\n      };\r\n      try {\r\n        if (tarefaId !== undefined) {\r\n          ObterTarefa(tarefaId);\r\n          console.log(\"obterChat\");\r\n          obterChat();\r\n        }\r\n      } catch (err) {\r\n        console.error(\"Erro ao obter usuario para edição\", err);\r\n      }\r\n    });\r\n    return {\r\n      ViewModel,\r\n      optionsUsuarios,\r\n      limpaForm,\r\n      validarForm,\r\n      filtraLabelUsuario,\r\n      mostrarBtnSalvar,\r\n      inputReadonly,\r\n      tarefaId,\r\n      enviaMensagemChat,\r\n      mensagemChat,\r\n      obterChat,\r\n      chatMensage,\r\n    };\r\n  },\r\n};\r\n</script>\r\n<style src=\"@vueform/multiselect/themes/default.css\"></style>\r\n    \r\n<style>\r\n.chat {\r\n  max-height: 400px;\r\n  overflow-y: scroll;\r\n}\r\n.containerChat {\r\n  border: 2px solid #dedede;\r\n  background-color: #f1f1f1;\r\n  border-radius: 5px;\r\n  padding: 10px;\r\n  margin: 10px 0;\r\n}\r\n/* Darker chat container */\r\n\r\n.darker {\r\n  border-color: #ccc;\r\n  background-color: #ddd;\r\n}\r\n/* Clear floats */\r\n\r\n.container::after {\r\n  content: \"\";\r\n  clear: both;\r\n  display: table;\r\n}\r\n/* Style images */\r\n\r\n.container img {\r\n  float: left;\r\n  max-width: 60px;\r\n  width: 100%;\r\n  margin-right: 20px;\r\n  border-radius: 50%;\r\n}\r\n/* Style the right image */\r\n\r\n.container img.right {\r\n  float: right;\r\n  margin-left: 20px;\r\n  margin-right: 0;\r\n}\r\n/* Style time text */\r\n\r\n.time-right {\r\n  float: right;\r\n  color: #aaa;\r\n}\r\n/* Style time text */\r\n\r\n.time-left {\r\n  float: left;\r\n  color: #999;\r\n}\r\n</style>\r\n","import { render } from \"./NovoTarefa.vue?vue&type=template&id=617ace78\"\nimport script from \"./NovoTarefa.vue?vue&type=script&lang=js\"\nexport * from \"./NovoTarefa.vue?vue&type=script&lang=js\"\n\nimport \"@vueform/multiselect/themes/default.css?vue&type=style&index=0&lang=css\"\nimport \"./NovoTarefa.vue?vue&type=style&index=1&id=617ace78&lang=css\"\nscript.render = render\n\nexport default script","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./NovoTarefa.vue?vue&type=style&index=1&id=617ace78&lang=css\""],"sourceRoot":""}