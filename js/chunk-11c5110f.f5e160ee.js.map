{"version":3,"sources":["webpack:///./src/components/Table/Table.vue","webpack:///./src/components/Table/Table.vue?aaf5","webpack:///./src/views/conjunto/Clientes.vue","webpack:///./src/views/conjunto/Clientes.vue?71be"],"names":["class","id","hColumns","item","index","scope","key","display","label","lAction","items","rowObj","getColumns","rowValue","getClass","data-item","onActionClick","$event","props","setup","emit","headerColumns","action","lItems","obj","columnsValues","value","length","push","e","render","data-edit","title","to","default","onEdit","table-header-actions","table-actions","fallback","router","itemSelected","componentePaginacao","console","log","target","dataset","edit","descricaoItemSelected","nomeCliente","fire","icon","confirmButtonText","text","usuarios","get","then","snapshot","exists","data","val","Object","entries","catch","error","components","Table"],"mappings":"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","file":"js/chunk-11c5110f.f5e160ee.js","sourcesContent":["<template>\r\n  <div class=\"table-responsive\">\r\n    <table class=\"table\">\r\n      <thead>\r\n        <tr>\r\n          <th\r\n            scope=\"col\"\r\n            v-for=\"(item, index) in hColumns\"\r\n            :key=\"index\"\r\n            :class=\"item.display\"\r\n          >\r\n            <div>\r\n              {{ item.label }}\r\n            </div>\r\n          </th>\r\n          <th v-if=\"lAction\" id=\"tableHeaderActions\">\r\n            <slot name=\"table-header-actions\"></slot>\r\n          </th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr scope=\"row\" v-for=\"(rowObj, index) in items\" :key=\"index\">\r\n          \r\n          <td v-for=\"(rowValue, index) in getColumns(rowObj)\" :key=\"index\" :class=\"getClass(index)\">\r\n            {{ rowValue }}\r\n          </td>\r\n          \r\n          <td\r\n            v-if=\"lAction\"\r\n            :id=\"'tableAction' + index\"\r\n            :data-item=\"rowObj\"\r\n            @click=\"onActionClick($event, rowObj)\"\r\n          >\r\n            <slot name=\"table-actions\"></slot>\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref } from \"vue\";\r\nexport default {\r\n  props: [\"headerColumns\", \"items\", \"action\"],\r\n  async setup(props, { emit }) {\r\n    var hColumns = ref(props.headerColumns);\r\n    var lAction = ref(props.action ? props.action : false);\r\n    var lItems = ref(await props.items);\r\n    const getColumns = (obj) => {\r\n      var columnsValues = [];\r\n      for (let index = 0; index < hColumns.value.length; index++) {\r\n        const key = hColumns.value[index].key;\r\n        columnsValues.push(obj[key]);\r\n      }\r\n      return columnsValues;\r\n    };\r\n    const getClass = (index) => {\r\n      return props.headerColumns[index].display\r\n    };\r\n    const onActionClick = (e, obj) => {\r\n      e.item = obj;\r\n      emit(\"on-action-click\", e);\r\n    };\r\n    return {\r\n      lAction,\r\n      hColumns,\r\n      lItems,\r\n      getColumns,\r\n      onActionClick,\r\n      getClass,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style></style>","import { render } from \"./Table.vue?vue&type=template&id=09b0cc49\"\nimport script from \"./Table.vue?vue&type=script&lang=js\"\nexport * from \"./Table.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\r\n  <div class=\"d-flex flex-column col-12 m-auto\">\r\n    <div class=\"col-2\">\r\n      <router-link\r\n        title=\"Adicionar nova tarefa \"\r\n        class=\"ml-auto m-1 btn btn-sm btn-primary\"\r\n        to=\"/conjunto/novo\"\r\n        >Adicionar\r\n      </router-link>\r\n    </div>\r\n    <div class=\"card shadow\">\r\n      <div class=\"card-header\">Conjuntos - (Clientes)</div>\r\n      <div class=\"card-body\">\r\n        <Suspense>\r\n          <template #default>\r\n            <Table\r\n              class=\"table-borderless table-striped\"\r\n              :headerColumns=\"hColumns\"\r\n              :items=\"items\"\r\n              action=\"true\"\r\n              @on-action-click=\"onEdit\"\r\n            >\r\n              <template v-slot:table-header-actions>\r\n                <div\r\n                  class=\"\r\n                    d-flex\r\n                    flex-center\r\n                    justify-content-center\r\n                    align-items-center\r\n                  \"\r\n                >\r\n                  Ações\r\n                </div>\r\n              </template>\r\n              <template v-slot:table-actions>\r\n                <div\r\n                  class=\"\r\n                    d-flex\r\n                    flex-center\r\n                    justify-content-center\r\n                    align-items-center\r\n                  \"\r\n                >\r\n                  <button\r\n                    data-edit=\"3\"\r\n                    class=\"btn btn-sm btn-info\"\r\n                    title=\"Ver tarefas do cliente\"\r\n                  >\r\n                   <i  data-edit=\"3\" class=\"fas fa-tasks\"></i>\r\n                  </button>\r\n                  <button\r\n                    data-edit=\"2\"\r\n                    class=\"btn btn-sm btn-primary\"\r\n                    title=\"Visualizar cliente\"\r\n                  >\r\n                    <i data-edit=\"2\" class=\"fas fa-eye\"></i>\r\n                  </button>\r\n                  <button\r\n                    title=\"Editar cliente\"\r\n                    data-edit=\"1\"\r\n                    class=\"btn btn-sm btn-warning\"\r\n                  >\r\n                    <i data-edit=\"1\" class=\"fas fa-edit\"></i>\r\n                  </button>\r\n                  <button\r\n                    title=\"Excluir cliente\"\r\n                    data-edit=\"0\"\r\n                    class=\"btn btn-sm btn-danger\"\r\n                  >\r\n                    <i data-edit=\"0\" class=\"fas fa-trash-alt\"></i>\r\n                  </button>\r\n                </div>\r\n              </template>\r\n            </Table>\r\n          </template>\r\n          <template #fallback> caregando tabela </template>\r\n        </Suspense>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport Table from \"../../components/Table/Table.vue\";\r\n\r\nimport { ref, onMounted } from \"vue\";\r\nimport { useRouter } from \"vue-router\";\r\nimport Swal from \"sweetalert2\";\r\nimport servico from \"../../requisicoes/servicos/usuarios/index\";\r\nexport default {\r\n  setup() {\r\n    let router = useRouter();\r\n    let items = ref(null);\r\n    let itemSelected = ref(null);\r\n    let componentePaginacao = ref(null);\r\n    let hColumns = ref([\r\n      {\r\n        key: \"nomeCliente\",\r\n        label: \"Cliente\",\r\n      },\r\n     \r\n    ]);\r\n\r\n    const onEdit = (e) => {\r\n      console.log(e.target.dataset.edit)\r\n      if (!e || !e.target || !e.target.dataset) {\r\n        console.log(\"Objeto Errado\");\r\n        return;\r\n      }\r\n      if (e.target.dataset.edit == 1) {\r\n        console.log(\"Editar\", e.item.id);\r\n        router.push(\"/conjunto/editar/\" + e.item.id);\r\n      }\r\n      if (e.target.dataset.edit == 2) {\r\n        router.push(\"/conjunto/visualizar/\" + e.item.id );\r\n      }\r\n      if (e.target.dataset.edit == 3) {\r\n     \r\n        router.push(\"/conjunto/tarefas-cliente/\" + e.item.id );\r\n      }\r\n      if (e.target.dataset.edit == 0) {\r\n          console.log(\"itemSelected\", itemSelected)\r\n        let descricaoItemSelected = e.item.nomeCliente;\r\n        \r\n         Swal.fire({\r\n          icon: \"question\",\r\n          title: `Você não tem permição para excluir`,\r\n          confirmButtonText: `Ok`,\r\n          text: `O Cliente \"${descricaoItemSelected}\"`,\r\n          // showCancelButton: true,\r\n          // cancelButtonText: `Cancelar`,\r\n        })\r\n        // itemSelected = e.item.id;\r\n        // let descricaoItemSelected = e.item.lablAtribuidaPara;\r\n        // Swal.fire({\r\n        //   icon: \"question\",\r\n        //   title: `Deseja excluir`,\r\n        //   confirmButtonText: `Sim`,\r\n        //   text: `O item \"${descricaoItemSelected}\"?`,\r\n        //   showCancelButton: true,\r\n        //   cancelButtonText: `Cancelar`,\r\n        // }).then((response) => {\r\n        //   if (response.isConfirmed) {\r\n        //     let dataLocalStorageTarefa = localStorage.getItem(\r\n        //       \"dataLocalStorageTarefa\"\r\n        //     );\r\n        //     let tarefas = JSON.parse(dataLocalStorageTarefa);\r\n        //     let itemExcluzao = itemSelected;\r\n        //     tarefas.forEach((tarefa) => {\r\n        //       if (tarefa.id == itemExcluzao) {\r\n        //         let indexGrid = tarefas.indexOf(tarefa);\r\n        //         items.value.splice(indexGrid, 1);\r\n        //         let stringfy = JSON.stringify(items.value);\r\n        //         localStorage.setItem(\"dataLocalStorageTarefa\", stringfy);\r\n        //       }\r\n        //     });\r\n        //     Swal.fire({\r\n        //       icon: \"success\",\r\n        //       title: `Concluído`,\r\n        //       text: `O Item \"${descricaoItemSelected}\" foi excluído`,\r\n        //     });\r\n        //   }\r\n        // });\r\n      }\r\n    };\r\n\r\n    let usuarios = [];\r\n    servico\r\n      .get(\"conjunto\")\r\n      .then((snapshot) => {\r\n        if (snapshot.exists()) {\r\n          // console.log(snapshot.val());\r\n          let data = snapshot.val();\r\n          // console.table(data);\r\n          for (var [key, value] of Object.entries(data)) {\r\n            console.log(value);\r\n            // atribuidaPara: \"f12dcffc-0b60-410f-8643-ee6490d97bed\";\r\n            // descricao: \"tesste\";\r\n            // id: \"258afcac-3566-4cd3-859e-c094239038ec\";\r\n            // lablAtribuidaPara: \"\";\r\n            // value: 3;\r\n            let obj = {\r\n              id:  key,//tem que remover isso e colocar o id do banco ai fica mais rapido              \r\n              nomeCliente: value.nomeCliente ,\r\n            };\r\n            usuarios.push(obj);\r\n          }\r\n          items.value = usuarios;\r\n        } else {\r\n          console.log(\"No data available\");\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.error(error);\r\n      });\r\n    onMounted(async () => {\r\n      // let dataLocalStorageTarefa = localStorage.getItem(\r\n      //   \"dataLocalStorageTarefa\"\r\n      // );\r\n      // let tarefas = JSON.parse(dataLocalStorageTarefa);\r\n      // items.value = tarefas;\r\n    });\r\n    return {\r\n      items,\r\n      componentePaginacao,\r\n      hColumns,\r\n      onEdit,\r\n    };\r\n  },\r\n  components: {\r\n    Table,\r\n  },\r\n};\r\n</script>\r\n","import { render } from \"./Clientes.vue?vue&type=template&id=c898cf4c\"\nimport script from \"./Clientes.vue?vue&type=script&lang=js\"\nexport * from \"./Clientes.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}