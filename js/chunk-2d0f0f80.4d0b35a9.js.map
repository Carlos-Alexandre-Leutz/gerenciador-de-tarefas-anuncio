{"version":3,"sources":["webpack:///./src/views/tarefa/Tarefas.vue","webpack:///./src/views/tarefa/Tarefas.vue?5690"],"names":["class","data-edit","title","to","default","headerColumns","hColumns","items","action","onEdit","table-header-actions","table-actions","fallback","setup","router","itemSelected","componentePaginacao","key","label","e","target","dataset","edit","console","log","item","id","push","descricaoItemSelected","value","fire","icon","confirmButtonText","text","usuarios","get","then","snapshot","exists","data","val","Object","entries","obj","lablAtribuidaPara","concluida","deadline","reverse","catch","error","components","Table","render"],"mappings":"4IACOA,MAAM,oC,GACJA,MAAM,S,iBAKN,c,GAGAA,MAAM,e,EACT,eAAsC,OAAjCA,MAAM,eAAc,WAAO,G,GAC3BA,MAAM,a,EAWD,eASM,OARJA,MAAM,mLAMP,WAED,G,EAGA,eA6BM,OA5BJA,MAAM,mLAKL,CAED,eAMS,UALPC,YAAU,IACVD,MAAM,yBACNE,MAAM,c,CAEN,eAAwC,KAArCD,YAAU,IAAID,MAAM,iBAEzB,eAMS,UALPE,MAAM,SACND,YAAU,IACVD,MAAM,0B,CAEN,eAAyC,KAAtCC,YAAU,IAAID,MAAM,kBAEzB,eAMS,UALPE,MAAM,UACND,YAAU,IACVD,MAAM,yB,CAEN,eAA8C,KAA3CC,YAAU,IAAID,MAAM,yB,oBAMb,sB,8GAnE5B,eAuEM,MAvEN,EAuEM,CAtEJ,eAOM,MAPN,EAOM,CANJ,eAKc,GAJZE,MAAM,yBACNF,MAAM,qCACNG,GAAG,gB,yBACF,iBACH,C,cAEF,eA6DM,MA7DN,EA6DM,CA5DJ,EACA,eA0DM,MA1DN,EA0DM,E,iBAzDJ,eAwDW,aAvDEC,QAAO,gBAChB,iBAmDQ,CAnDR,eAmDQ,GAlDNJ,MAAM,iCACLK,cAAe,EAAAC,SACfC,MAAO,EAAAA,MACRC,OAAO,OACN,gBAAiB,EAAAC,Q,CAEDC,uBAAoB,gBACnC,iBASM,CATN,MAWeC,gBAAa,gBAC5B,iBA6BM,CA7BN,M,wDAiCKC,SAAQ,gBAAC,iBAAkB,C,8HAajC,GACbC,MADa,WAEX,IAAIC,EAAS,iBACTP,EAAQ,eAAI,MACZQ,EAAe,eAAI,MACnBC,EAAsB,eAAI,MAC1BV,EAAW,eAAI,CACjB,CACEW,IAAK,QACLC,MAAO,UAET,CACED,IAAK,oBACLC,MAAO,kBAET,CACED,IAAK,YACLC,MAAO,eAET,CACED,IAAK,WACLC,MAAO,eAILT,EAAS,SAACU,GACd,GAAKA,GAAMA,EAAEC,QAAWD,EAAEC,OAAOC,SAYjC,GAR6B,GAAzBF,EAAEC,OAAOC,QAAQC,OACnBC,QAAQC,IAAI,SAAUL,EAAEM,KAAKC,IAC7BZ,EAAOa,KAAK,kBAAoBR,EAAEM,KAAKC,KAEZ,GAAzBP,EAAEC,OAAOC,QAAQC,MAEnBR,EAAOa,KAAK,sBAAwBR,EAAEM,KAAKC,GAAK,eAErB,GAAzBP,EAAEC,OAAOC,QAAQC,KAAW,CAC9BC,QAAQC,IAAI,eAAgBT,GAC5B,IAAIa,EAAwBT,EAAEM,KAAKI,MACnC,IAAKC,KAAK,CACRC,KAAM,WACN7B,MAAO,qCACP8B,kBAAmB,KACnBC,KAAM,aAAF,OAAeL,EAAf,aAlBNL,QAAQC,IAAI,kBAwDZU,EAAW,GAwCf,OAvCA,OACGC,IAAI,UACJC,MAAK,SAACC,GACL,GAAIA,EAASC,SAAU,CAIrB,IAFA,IAAIC,EAAOF,EAASG,MAEpB,MAAyBC,OAAOC,QAAQH,GAAxC,eAA+C,CAA1C,6BAAKtB,EAAL,KAAUY,EAAV,KACHN,QAAQC,IAAIK,GAMZ,IAAIc,EAAM,CACRjB,GAAIG,EAAMH,IAAMT,EAChB2B,kBAAmBf,EAAMe,kBACzBf,MAAOA,EAAMA,MACbgB,UAAWhB,EAAMgB,UAAY,MAAQ,MACrCC,SAAUjB,EAAMiB,UAElBZ,EAASP,KAAKgB,GAEhBT,EAASa,UACTxC,EAAMsB,MAAQK,OAEdX,QAAQC,IAAI,wBAGfwB,OAAM,SAACC,GACN1B,QAAQ0B,MAAMA,MAElB,eAAS,wCAAC,mIAOH,CACL1C,QACAS,sBACAV,WACAG,WAGJyC,WAAY,CACVC,QAAA,OCjNJ,EAAOC,OAASA,EAED","file":"js/chunk-2d0f0f80.4d0b35a9.js","sourcesContent":["<template>\r\n  <div class=\"d-flex flex-column col-12 m-auto\">\r\n    <div class=\"col-2\">\r\n      <router-link\r\n        title=\"Adicionar nova tarefa \"\r\n        class=\"ml-auto m-1 btn btn-sm btn-primary\"\r\n        to=\"/tarefa/novo\"\r\n        >Adicionar\r\n      </router-link>\r\n    </div>\r\n    <div class=\"card shadow\">\r\n      <div class=\"card-header\">Tarefas</div>\r\n      <div class=\"card-body\">\r\n        <Suspense>\r\n          <template #default>\r\n            <Table\r\n              class=\"table-borderless table-striped\"\r\n              :headerColumns=\"hColumns\"\r\n              :items=\"items\"\r\n              action=\"true\"\r\n              @on-action-click=\"onEdit\"\r\n            >\r\n              <template v-slot:table-header-actions>\r\n                <div\r\n                  class=\"\r\n                    d-flex\r\n                    flex-center\r\n                    justify-content-center\r\n                    align-items-center\r\n                  \"\r\n                >\r\n                  Ações\r\n                </div>\r\n              </template>\r\n              <template v-slot:table-actions>\r\n                <div\r\n                  class=\"\r\n                    d-flex\r\n                    flex-center\r\n                    justify-content-center\r\n                    align-items-center\r\n                  \"\r\n                >\r\n                  <button\r\n                    data-edit=\"2\"\r\n                    class=\"btn btn-sm btn-primary\"\r\n                    title=\"Visualizar\"\r\n                  >\r\n                    <i data-edit=\"2\" class=\"fas fa-eye\"></i>\r\n                  </button>\r\n                  <button\r\n                    title=\"Editar\"\r\n                    data-edit=\"1\"\r\n                    class=\"btn btn-sm btn-warning\"\r\n                  >\r\n                    <i data-edit=\"1\" class=\"fas fa-edit\"></i>\r\n                  </button>\r\n                  <button\r\n                    title=\"Excluir\"\r\n                    data-edit=\"0\"\r\n                    class=\"btn btn-sm btn-danger\"\r\n                  >\r\n                    <i data-edit=\"0\" class=\"fas fa-trash-alt\"></i>\r\n                  </button>\r\n                </div>\r\n              </template>\r\n            </Table>\r\n          </template>\r\n          <template #fallback> caregando tabela </template>\r\n        </Suspense>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport Table from \"../../components/Table/Table.vue\";\r\n\r\nimport { ref, onMounted } from \"vue\";\r\nimport { useRouter } from \"vue-router\";\r\nimport Swal from \"sweetalert2\";\r\nimport servico from \"../../requisicoes/servicos/usuarios/index\";\r\nexport default {\r\n  setup() {\r\n    let router = useRouter();\r\n    let items = ref(null);\r\n    let itemSelected = ref(null);\r\n    let componentePaginacao = ref(null);\r\n    let hColumns = ref([\r\n      {\r\n        key: \"value\",\r\n        label: \"Tarefa\",\r\n      },\r\n      {\r\n        key: \"lablAtribuidaPara\",\r\n        label: \"Atribuida para\",\r\n      },\r\n      {\r\n        key: \"concluida\",\r\n        label: \"Finalizada?\",\r\n      },\r\n      {\r\n        key: \"deadline\",\r\n        label: \"Deadline?\",\r\n      },\r\n    ]);\r\n\r\n    const onEdit = (e) => {\r\n      if (!e || !e.target || !e.target.dataset) {\r\n        console.log(\"Objeto Errado\");\r\n        return;\r\n      }\r\n      if (e.target.dataset.edit == 1) {\r\n        console.log(\"Editar\", e.item.id);\r\n        router.push(\"/tarefa/editar/\" + e.item.id);\r\n      }\r\n      if (e.target.dataset.edit == 2) {\r\n        // router.push(\"/tarefa/visualizar/\" + e.item.id + \"/visualizar\");\r\n        router.push(\"/tarefa/visualizar/\" + e.item.id + \"/visualizar\");\r\n      }\r\n      if (e.target.dataset.edit == 0) {\r\n        console.log(\"itemSelected\", itemSelected);\r\n        let descricaoItemSelected = e.item.value;\r\n        Swal.fire({\r\n          icon: \"question\",\r\n          title: `Você não tem permição para excluir`,\r\n          confirmButtonText: `Ok`,\r\n          text: `O taréfa \"${descricaoItemSelected}\"`,\r\n          // showCancelButton: true,\r\n          // cancelButtonText: `Cancelar`,\r\n        });\r\n        // itemSelected = e.item.id;\r\n        // let descricaoItemSelected = e.item.lablAtribuidaPara;\r\n        // Swal.fire({\r\n        //   icon: \"question\",\r\n        //   title: `Deseja excluir`,\r\n        //   confirmButtonText: `Sim`,\r\n        //   text: `O item \"${descricaoItemSelected}\"?`,\r\n        //   showCancelButton: true,\r\n        //   cancelButtonText: `Cancelar`,\r\n        // }).then((response) => {\r\n        //   if (response.isConfirmed) {\r\n        //     let dataLocalStorageTarefa = localStorage.getItem(\r\n        //       \"dataLocalStorageTarefa\"\r\n        //     );\r\n        //     let tarefas = JSON.parse(dataLocalStorageTarefa);\r\n        //     let itemExcluzao = itemSelected;\r\n        //     tarefas.forEach((tarefa) => {\r\n        //       if (tarefa.id == itemExcluzao) {\r\n        //         let indexGrid = tarefas.indexOf(tarefa);\r\n        //         items.value.splice(indexGrid, 1);\r\n        //         let stringfy = JSON.stringify(items.value);\r\n        //         localStorage.setItem(\"dataLocalStorageTarefa\", stringfy);\r\n        //       }\r\n        //     });\r\n        //     Swal.fire({\r\n        //       icon: \"success\",\r\n        //       title: `Concluído`,\r\n        //       text: `O Item \"${descricaoItemSelected}\" foi excluído`,\r\n        //     });\r\n        //   }\r\n        // });\r\n      }\r\n    };\r\n\r\n    let usuarios = [];\r\n    servico\r\n      .get(\"tarefa\")\r\n      .then((snapshot) => {\r\n        if (snapshot.exists()) {\r\n          // console.log(snapshot.val());\r\n          let data = snapshot.val();\r\n          // console.table(data);\r\n          for (var [key, value] of Object.entries(data)) {\r\n            console.log(value);\r\n            // atribuidaPara: \"f12dcffc-0b60-410f-8643-ee6490d97bed\";\r\n            // descricao: \"tesste\";\r\n            // id: \"258afcac-3566-4cd3-859e-c094239038ec\";\r\n            // lablAtribuidaPara: \"\";\r\n            // value: 3;\r\n            let obj = {\r\n              id: value.id || key, //tem que remover isso e colocar o id do banco ai fica mais rapido\r\n              lablAtribuidaPara: value.lablAtribuidaPara,\r\n              value: value.value,\r\n              concluida: value.concluida ? \"Sim\" : \"Não\",\r\n              deadline: value.deadline,\r\n            };\r\n            usuarios.push(obj);\r\n          }\r\n          usuarios.reverse();\r\n          items.value = usuarios;\r\n        } else {\r\n          console.log(\"No data available\");\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.error(error);\r\n      });\r\n    onMounted(async () => {\r\n      // let dataLocalStorageTarefa = localStorage.getItem(\r\n      //   \"dataLocalStorageTarefa\"\r\n      // );\r\n      // let tarefas = JSON.parse(dataLocalStorageTarefa);\r\n      // items.value = tarefas;\r\n    });\r\n    return {\r\n      items,\r\n      componentePaginacao,\r\n      hColumns,\r\n      onEdit,\r\n    };\r\n  },\r\n  components: {\r\n    Table,\r\n  },\r\n};\r\n</script>\r\n","import { render } from \"./Tarefas.vue?vue&type=template&id=0a4d59f7\"\nimport script from \"./Tarefas.vue?vue&type=script&lang=js\"\nexport * from \"./Tarefas.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}